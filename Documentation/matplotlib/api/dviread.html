
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>matplotlib.dviread &mdash; Matplotlib 1.3.1 documentation</title>
    <link rel="stylesheet" href="../_static/pythonista.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.3.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Matplotlib 1.3.1 documentation"
          href="../_static/opensearch.xml"/>
    <link rel="top" title="Matplotlib 1.3.1 documentation" href="../index.html" />
    <link rel="up" title="backends" href="index_backend_api.html" />
    <link rel="next" title="matplotlib.type1font" href="type1font.html" />
    <link rel="prev" title="matplotlib.backends.backend_pdf" href="backend_pdf_api.html" />
    <link rel="shortcut icon" type="image/png" href="../_static/py.png" />
    <link rel="stylesheet" href="../_static/pythonista.css" type="text/css" />
    <meta name = "viewport" content = "width=device-width,initial-scale=1.0,user-scalable=no;">
    
    <script type="text/javascript">
        var getTextForSample = function(i) {
            codeBlock = document.getElementsByClassName('highlight-python')[i];
            return codeBlock.innerText;
        }
        
        var copySample = function (i) {
            window.location.href = '/__pythonista_copy__/' + encodeURI(getTextForSample(i));
        }
        
        var openSample = function (i) {
            window.location.href = '/__pythonista_open__/' + encodeURI(getTextForSample(i));
        }
        
        //Source: http://ejohn.org/blog/partial-functions-in-javascript/
        Function.prototype.partial = function() {
        	var fn = this,
        		args = Array.prototype.slice.call(arguments);
        	return function() {
        		var arg = 0;
        		for (var i = 0; i < args.length && arg < arguments.length; i++)
        		if (args[i] === undefined) args[i] = arguments[arg++];
        		return fn.apply(this, args);
        	};
        };
        
        window.onload=function() {
            //Add "Copy" and "Open in Editor" buttons for code samples:
            var inApp = navigator.userAgent.match(/AppleWebKit/i) != null && navigator.userAgent.match(/Safari/i) == null;
            if (inApp) {
                codeBlocks = document.getElementsByClassName('highlight-python');
                for (var i = 0; i < codeBlocks.length; i++) {
                    codeBlock = codeBlocks[i];
                    if (codeBlock.innerText.indexOf('>>>') == 0) {
                        //Don't add header for interactive sessions
                        continue;
                    }

                    var codeHeader = document.createElement('div');
                    codeHeader.className = 'pythonista-code-header';

                    var copyButton = document.createElement('button');
                    copyButton.className = 'pythonista-button';
                    copyButton.innerText = 'Copy';
                    copyButton.addEventListener('click', copySample.partial(i));
                    codeHeader.appendChild(copyButton);

                    var openButton = document.createElement('button');
                    openButton.className = 'pythonista-button';
                    openButton.innerText = 'Open in Editor';
                    openButton.addEventListener('click', openSample.partial(i));
                    codeHeader.appendChild(openButton);

                    codeBlock.parentElement.insertBefore(codeHeader, codeBlock);
                }
            }
        }
    </script>
    
 

  </head>
  <body ontouchstart="">
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="type1font.html" title="matplotlib.type1font"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="backend_pdf_api.html" title="matplotlib.backends.backend_pdf"
             accesskey="P">previous</a> |</li>
        <li><a href="http://omz-software.com/pythonista"><img src="../_static/py.png" alt=""
                 style="vertical-align: middle; margin-top: -4px; margin-right: 4px;"/></a></li>
        <li><a href="../index.html">Matplotlib 1.3.1 documentation</a> &raquo;</li>

          <li><a href="index.html" >The Matplotlib API</a> &raquo;</li>
          <li><a href="index_backend_api.html" accesskey="U">backends</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
          <div class="body">
            
  <div class="section" id="module-matplotlib.dviread">
<span id="matplotlib-dviread"></span><h1><a class="reference internal" href="#module-matplotlib.dviread" title="matplotlib.dviread"><tt class="xref py py-mod docutils literal"><span class="pre">matplotlib.dviread</span></tt></a><a class="headerlink" href="#module-matplotlib.dviread" title="Permalink to this headline">¶</a></h1>
<p>An experimental module for reading dvi files output by TeX. Several
limitations make this not (currently) useful as a general-purpose dvi
preprocessor, but it is currently used by the pdf backend for
processing usetex text.</p>
<p>Interface:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">dvi</span> <span class="o">=</span> <span class="n">Dvi</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="mi">72</span><span class="p">)</span>
<span class="c"># iterate over pages (but only one page is supported for now):</span>
<span class="k">for</span> <span class="n">page</span> <span class="ow">in</span> <span class="n">dvi</span><span class="p">:</span>
    <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="n">page</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">page</span><span class="o">.</span><span class="n">height</span><span class="p">,</span> <span class="n">page</span><span class="o">.</span><span class="n">descent</span>
    <span class="k">for</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">font</span><span class="p">,</span><span class="n">glyph</span><span class="p">,</span><span class="n">width</span> <span class="ow">in</span> <span class="n">page</span><span class="o">.</span><span class="n">text</span><span class="p">:</span>
        <span class="n">fontname</span> <span class="o">=</span> <span class="n">font</span><span class="o">.</span><span class="n">texname</span>
        <span class="n">pointsize</span> <span class="o">=</span> <span class="n">font</span><span class="o">.</span><span class="n">size</span>
        <span class="o">...</span>
    <span class="k">for</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">height</span><span class="p">,</span><span class="n">width</span> <span class="ow">in</span> <span class="n">page</span><span class="o">.</span><span class="n">boxes</span><span class="p">:</span>
        <span class="o">...</span>
</pre></div>
</div>
<dl class="class">
<dt id="matplotlib.dviread.Dvi">
<em class="property">class </em><tt class="descclassname">matplotlib.dviread.</tt><tt class="descname">Dvi</tt><big>(</big><em>filename</em>, <em>dpi</em><big>)</big><a class="headerlink" href="#matplotlib.dviread.Dvi" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>A dvi (&#8220;device-independent&#8221;) file, as produced by TeX.
The current implementation only reads the first page and does not
even attempt to verify the postamble.</p>
<p>Initialize the object. This takes the filename as input and
opens the file; actually reading the file happens when
iterating through the pages of the file.</p>
<dl class="method">
<dt id="matplotlib.dviread.Dvi.close">
<tt class="descname">close</tt><big>(</big><big>)</big><a class="headerlink" href="#matplotlib.dviread.Dvi.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close the underlying file if it is open.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="matplotlib.dviread.DviFont">
<em class="property">class </em><tt class="descclassname">matplotlib.dviread.</tt><tt class="descname">DviFont</tt><big>(</big><em>scale</em>, <em>tfm</em>, <em>texname</em>, <em>vf</em><big>)</big><a class="headerlink" href="#matplotlib.dviread.DviFont" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Object that holds a font&#8217;s texname and size, supports comparison,
and knows the widths of glyphs in the same units as the AFM file.
There are also internal attributes (for use by dviread.py) that
are <em>not</em> used for comparison.</p>
<p>The size is in Adobe points (converted from TeX points).</p>
<dl class="attribute">
<dt id="matplotlib.dviread.DviFont.texname">
<tt class="descname">texname</tt><a class="headerlink" href="#matplotlib.dviread.DviFont.texname" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the font as used internally by TeX and friends. This
is usually very different from any external font names, and
<tt class="xref py py-class docutils literal"><span class="pre">dviread.PsfontsMap</span></tt> can be used to find the external
name of the font.</p>
</dd></dl>

<dl class="attribute">
<dt id="matplotlib.dviread.DviFont.size">
<tt class="descname">size</tt><a class="headerlink" href="#matplotlib.dviread.DviFont.size" title="Permalink to this definition">¶</a></dt>
<dd><p>Size of the font in Adobe points, converted from the slightly
smaller TeX points.</p>
</dd></dl>

<dl class="attribute">
<dt id="matplotlib.dviread.DviFont.widths">
<tt class="descname">widths</tt><a class="headerlink" href="#matplotlib.dviread.DviFont.widths" title="Permalink to this definition">¶</a></dt>
<dd><p>Widths of glyphs in glyph-space units, typically 1/1000ths of
the point size.</p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">size</tt></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">texname</tt></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">widths</tt></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="matplotlib.dviread.Encoding">
<em class="property">class </em><tt class="descclassname">matplotlib.dviread.</tt><tt class="descname">Encoding</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#matplotlib.dviread.Encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Parses a *.enc file referenced from a psfonts.map style file.
The format this class understands is a very limited subset of
PostScript.</p>
<p>Usage (subject to change):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">Encoding</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
    <span class="n">whatever</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="matplotlib.dviread.Encoding.encoding">
<tt class="descname">encoding</tt><a class="headerlink" href="#matplotlib.dviread.Encoding.encoding" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="matplotlib.dviread.PsfontsMap">
<em class="property">class </em><tt class="descclassname">matplotlib.dviread.</tt><tt class="descname">PsfontsMap</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#matplotlib.dviread.PsfontsMap" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>A psfonts.map formatted file, mapping TeX fonts to PS fonts.
Usage:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">map</span> <span class="o">=</span> <span class="n">PsfontsMap</span><span class="p">(</span><span class="n">find_tex_file</span><span class="p">(</span><span class="s">&#39;pdftex.map&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">entry</span> <span class="o">=</span> <span class="nb">map</span><span class="p">[</span><span class="s">&#39;ptmbo8r&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">entry</span><span class="o">.</span><span class="n">texname</span>
<span class="go">&#39;ptmbo8r&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">entry</span><span class="o">.</span><span class="n">psname</span>
<span class="go">&#39;Times-Bold&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">entry</span><span class="o">.</span><span class="n">encoding</span>
<span class="go">&#39;/usr/local/texlive/2008/texmf-dist/fonts/enc/dvips/base/8r.enc&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">entry</span><span class="o">.</span><span class="n">effects</span>
<span class="go">{&#39;slant&#39;: 0.16700000000000001}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">entry</span><span class="o">.</span><span class="n">filename</span>
</pre></div>
</div>
<p>For historical reasons, TeX knows many Type-1 fonts by different
names than the outside world. (For one thing, the names have to
fit in eight characters.) Also, TeX&#8217;s native fonts are not Type-1
but Metafont, which is nontrivial to convert to PostScript except
as a bitmap. While high-quality conversions to Type-1 format exist
and are shipped with modern TeX distributions, we need to know
which Type-1 fonts are the counterparts of which native fonts. For
these reasons a mapping is needed from internal font names to font
file names.</p>
<p>A texmf tree typically includes mapping files called e.g.
psfonts.map, pdftex.map, dvipdfm.map. psfonts.map is used by
dvips, pdftex.map by pdfTeX, and dvipdfm.map by dvipdfm.
psfonts.map might avoid embedding the 35 PostScript fonts (i.e.,
have no filename for them, as in the Times-Bold example above),
while the pdf-related files perhaps only avoid the &#8220;Base 14&#8221; pdf
fonts. But the user may have configured these files differently.</p>
</dd></dl>

<dl class="class">
<dt id="matplotlib.dviread.Tfm">
<em class="property">class </em><tt class="descclassname">matplotlib.dviread.</tt><tt class="descname">Tfm</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#matplotlib.dviread.Tfm" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>A TeX Font Metric file. This implementation covers only the bare
minimum needed by the Dvi class.</p>
<dl class="attribute">
<dt id="matplotlib.dviread.Tfm.checksum">
<tt class="descname">checksum</tt><a class="headerlink" href="#matplotlib.dviread.Tfm.checksum" title="Permalink to this definition">¶</a></dt>
<dd><p>Used for verifying against the dvi file.</p>
</dd></dl>

<dl class="attribute">
<dt id="matplotlib.dviread.Tfm.design_size">
<tt class="descname">design_size</tt><a class="headerlink" href="#matplotlib.dviread.Tfm.design_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Design size of the font (in what units?)</p>
</dd></dl>

<dl class="attribute">
<dt id="matplotlib.dviread.Tfm.width">
<tt class="descname">width</tt><a class="headerlink" href="#matplotlib.dviread.Tfm.width" title="Permalink to this definition">¶</a></dt>
<dd><p>Width of each character, needs to be scaled by the factor
specified in the dvi file. This is a dict because indexing may
not start from 0.</p>
</dd></dl>

<dl class="attribute">
<dt id="matplotlib.dviread.Tfm.height">
<tt class="descname">height</tt><a class="headerlink" href="#matplotlib.dviread.Tfm.height" title="Permalink to this definition">¶</a></dt>
<dd><p>Height of each character.</p>
</dd></dl>

<dl class="attribute">
<dt id="matplotlib.dviread.Tfm.depth">
<tt class="descname">depth</tt><a class="headerlink" href="#matplotlib.dviread.Tfm.depth" title="Permalink to this definition">¶</a></dt>
<dd><p>Depth of each character.</p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">checksum</tt></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">depth</tt></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">design_size</tt></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">height</tt></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">width</tt></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="matplotlib.dviread.Vf">
<em class="property">class </em><tt class="descclassname">matplotlib.dviread.</tt><tt class="descname">Vf</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#matplotlib.dviread.Vf" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#matplotlib.dviread.Dvi" title="matplotlib.dviread.Dvi"><tt class="xref py py-class docutils literal"><span class="pre">matplotlib.dviread.Dvi</span></tt></a></p>
<p>A virtual font (*.vf file) containing subroutines for dvi files.</p>
<p>Usage:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">vf</span> <span class="o">=</span> <span class="n">Vf</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
<span class="n">glyph</span> <span class="o">=</span> <span class="n">vf</span><span class="p">[</span><span class="n">code</span><span class="p">]</span>
<span class="n">glyph</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="n">glyph</span><span class="o">.</span><span class="n">boxes</span><span class="p">,</span> <span class="n">glyph</span><span class="o">.</span><span class="n">width</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="matplotlib.dviread.find_tex_file">
<tt class="descclassname">matplotlib.dviread.</tt><tt class="descname">find_tex_file</tt><big>(</big><em>filename</em>, <em>format=None</em><big>)</big><a class="headerlink" href="#matplotlib.dviread.find_tex_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Call <strong class="program">kpsewhich</strong> to find a file in the texmf tree. If
<em>format</em> is not None, it is used as the value for the
<em class="xref std std-option">--format</em> option.</p>
<p>Apparently most existing TeX distributions on Unix-like systems
use kpathsea. I hear MikTeX (a popular distribution on Windows)
doesn&#8217;t use kpathsea, so what do we do? (TODO)</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference external" href="http://www.tug.org/kpathsea/">Kpathsea documentation</a></dt>
<dd>The library that <strong class="program">kpsewhich</strong> is part of.</dd>
</dl>
</div>
</dd></dl>

</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
    &copy; <a href="../copyright.html">Copyright</a> 2002 - 2012 John Hunter, Darren Dale, Eric Firing, Michael Droettboom and the matplotlib development team; 2012 - 2013 The matplotlib development team.
    <br />
    The Python Software Foundation is a non-profit corporation.  
    <a href="http://www.python.org/psf/donations/">Please donate.</a>
    <br />
    Last updated on May 03, 2016.
    <a href="../bugs.html">Found a bug</a>?
    <br />
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.1.
    </div>

  </body>
</html>